\documentclass[11pt]{article}
\usepackage[margin=1in]{geometry}
\usepackage[T1]{fontenc}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{enumitem}

\lstset{
  basicstyle=\ttfamily\small,
  columns=fullflexible,
  breaklines=true,
  frame=single
}

\title{todo CLI Guide}
\author{todo project}
\date{February 15, 2026}

\begin{document}
\maketitle

\tableofcontents
\newpage

\section{Overview}
This guide explains how to use the \texttt{todo} CLI in a consistent, follow-along workflow.
It covers the most common commands, options, and flags.

\section{Install and Run}
Build and run locally:

\begin{lstlisting}
cargo build --release
cargo run -- <command>
\end{lstlisting}

Install a local binary:

\begin{lstlisting}
cargo install --path .
\end{lstlisting}

After installing, you can run:

\begin{lstlisting}
todo <command> [options]
\end{lstlisting}

\section{Where Data Is Stored}
Tasks and state are stored as JSON under your user data directory.
On macOS:

\begin{lstlisting}
~/Library/Application Support/todo/tasks.json
~/Library/Application Support/todo/state.json
\end{lstlisting}

\section{Global Options}
\begin{itemize}
  \item \texttt{--no-color}: Disable colored output.
\end{itemize}

\section{Create Tasks}
Create a basic task:

\begin{lstlisting}
todo create "Go shopping"
\end{lstlisting}

Create with content, due date, and priority:

\begin{lstlisting}
todo create "Go shopping" -c "Milk, eggs" -d tomorrow -p high
\end{lstlisting}

Create with tags and a repeat interval:

\begin{lstlisting}
todo create "Water plants" --repeat weekly --tag home --tag routine
\end{lstlisting}

Create in a specific branch:

\begin{lstlisting}
todo create "Plan trip" -b travel
\end{lstlisting}

\section{List and View}
List open tasks:

\begin{lstlisting}
todo list
\end{lstlisting}

List all (including done):

\begin{lstlisting}
todo list -a
\end{lstlisting}

Sort by priority, descending:

\begin{lstlisting}
todo list --sort priority --desc
\end{lstlisting}

Filter by tag:

\begin{lstlisting}
todo list --tag urgent
\end{lstlisting}

List tasks grouped by branch:

\begin{lstlisting}
todo list-all
\end{lstlisting}

List repeating tasks:

\begin{lstlisting}
todo list-repeat
\end{lstlisting}

View a single task:

\begin{lstlisting}
todo view 3
\end{lstlisting}

\section{Edit Tasks}
Interactive edit (no flags):

\begin{lstlisting}
todo edit 3
\end{lstlisting}

Non-interactive edit:

\begin{lstlisting}
todo edit 3 --title "Go shopping" --content "Milk, eggs"
\end{lstlisting}

Clear content and due date:

\begin{lstlisting}
todo edit 3 --clear-content --clear-due
\end{lstlisting}

Add and remove tags:

\begin{lstlisting}
todo edit 3 --tag urgent --remove-tag later
\end{lstlisting}

\section{Done, Undone, Toggle}
Mark done:

\begin{lstlisting}
todo done 3
\end{lstlisting}

Undo:

\begin{lstlisting}
todo undone 3
\end{lstlisting}

Toggle:

\begin{lstlisting}
todo toggle 3
\end{lstlisting}

\section{Bulk Operations}
Bulk done by query:

\begin{lstlisting}
todo bulk-done "shopping"
\end{lstlisting}

Bulk edit:

\begin{lstlisting}
todo bulk-edit "shopping" --priority high --clear-due
\end{lstlisting}

Bulk delete:

\begin{lstlisting}
todo bulk-delete "shopping"
\end{lstlisting}

Bulk move to another branch:

\begin{lstlisting}
todo bulk-move "shopping" work
\end{lstlisting}

\section{Search}
Search in title and content:

\begin{lstlisting}
todo search "meeting"
\end{lstlisting}

With tag filter and sorting:

\begin{lstlisting}
todo search "plan" --tag travel --sort due
\end{lstlisting}

\section{Branches}
Show current branch:

\begin{lstlisting}
todo branch
\end{lstlisting}

Switch branch:

\begin{lstlisting}
todo branch work
\end{lstlisting}

List known branches:

\begin{lstlisting}
todo branch -l
\end{lstlisting}

Move tasks between branches:

\begin{lstlisting}
todo branch-move work personal
\end{lstlisting}

Duplicate or merge:

\begin{lstlisting}
todo branch-dup work personal
todo branch-merge work personal
\end{lstlisting}

Delete a branch (and its tasks):

\begin{lstlisting}
todo branch-delete work --force
\end{lstlisting}

\section{Recurring Tasks and Reminders}
Create a repeating task:

\begin{lstlisting}
todo create "Weekly report" --repeat weekly
\end{lstlisting}

When marked done, the next occurrence is created automatically.

Show reminders (due today and overdue):

\begin{lstlisting}
todo reminders
\end{lstlisting}

\section{Archive and Unarchive}
Archive done tasks in the current branch:

\begin{lstlisting}
todo archive
\end{lstlisting}

Archive all branches:

\begin{lstlisting}
todo archive --all-branches
\end{lstlisting}

Unarchive a task:

\begin{lstlisting}
todo unarchive 42
\end{lstlisting}

\section{Import and Export}
Export JSON:

\begin{lstlisting}
todo export json
\end{lstlisting}

Export Markdown:

\begin{lstlisting}
todo export markdown
\end{lstlisting}

Import JSON:

\begin{lstlisting}
todo import --format json --file tasks.json
\end{lstlisting}

Import CSV:

\begin{lstlisting}
todo import --format csv --file tasks.csv
\end{lstlisting}

\section{Config Defaults}
Show current config:

\begin{lstlisting}
todo config
\end{lstlisting}

Set default sort:

\begin{lstlisting}
todo config --default-sort priority --default-desc true
\end{lstlisting}

Disable color output by default:

\begin{lstlisting}
todo config --color false
\end{lstlisting}

Use branch-scoped ids and UUIDs:

\begin{lstlisting}
todo config --id-scope branch --use-uuid true
\end{lstlisting}

\section{Shell Completions}
Generate completions:

\begin{lstlisting}
todo completions bash
\end{lstlisting}

\section{Follow-Along Tutorial}
This walkthrough uses the included sample data and demonstrates a typical flow.

\subsection{Step 1: Import Sample Data}
\begin{lstlisting}
todo import --format json --file start.json
\end{lstlisting}

\subsection{Step 2: List Tasks}
\begin{lstlisting}
todo list
\end{lstlisting}

\subsection{Step 3: Switch Branch}
\begin{lstlisting}
todo branch work
\end{lstlisting}

\subsection{Step 4: Add a Task}
\begin{lstlisting}
todo create "Book flights" -d 2026-03-01 -p high --tag travel
\end{lstlisting}

\subsection{Step 5: Edit the Task}
\begin{lstlisting}
todo edit 1 --content "Check points and baggage" --tag tickets
\end{lstlisting}

\subsection{Step 6: Mark Done}
\begin{lstlisting}
todo done 1
\end{lstlisting}

\subsection{Step 7: List Repeating Tasks}
\begin{lstlisting}
todo list-repeat
\end{lstlisting}

\subsection{Step 8: Archive Completed Tasks}
\begin{lstlisting}
todo archive
\end{lstlisting}

\subsection{Step 9: Export a Snapshot}
\begin{lstlisting}
todo export markdown
\end{lstlisting}

\section{Short Aliases}
Some commands have shortcuts:

\begin{itemize}[noitemsep]
  \item \texttt{create}: \texttt{c}, \texttt{add}
  \item \texttt{list}: \texttt{l}, \texttt{ls}
  \item \texttt{search}: \texttt{s}, \texttt{find}
  \item \texttt{done}: \texttt{d}
  \item \texttt{undone}: \texttt{u}
  \item \texttt{toggle}: \texttt{t}
  \item \texttt{export}: \texttt{ex}, \texttt{out}
  \item \texttt{import}: \texttt{imp}, \texttt{in}
\end{itemize}

\section{Due Date Formats}
Supported formats include:

\begin{itemize}
  \item \texttt{today}
  \item \texttt{tomorrow}
  \item \texttt{YYYY-MM-DD}
  \item \texttt{DDMMYYYY} (example: \texttt{18022026})
\end{itemize}

\end{document}
